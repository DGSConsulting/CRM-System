<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" type="image/png" href="./images/logo-icon-t.png" />
  <title>Enhanced CRM System</title>
  <style>
    /* === GENERAL STYLES === */
    * {margin:0;padding:0;box-sizing:border-box;}
    body {
      font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;
      background:linear-gradient(135deg,#9CAF88 0%,#6B8E5A 100%);
      min-height:100vh;
      color:#333;
    }
    .container {max-width:1200px;margin:0 auto;padding:20px;}
    .header {text-align:center;color:white;margin-bottom:30px;}
    .header h1 {font-size:2.5rem;margin-bottom:10px;text-shadow:2px 2px 4px rgba(0,0,0,0.3);}
    .nav-tabs {
      display:flex;
      justify-content:center;
      margin-bottom:30px;
      background:rgba(255,255,255,0.1);
      border-radius:15px;
      padding:5px;
      flex-wrap:wrap;
      backdrop-filter:blur(10px);
    }
    .nav-tab {
      padding:12px 24px;
      background:transparent;
      border:none;
      color:white;
      cursor:pointer;
      border-radius:10px;
      margin:0 5px;
      transition:all 0.3s ease;
      font-size:16px;
      font-weight:500;
    }
    .nav-tab.active {
      background:rgba(255,255,255,0.2);
      transform:translateY(-2px);
      box-shadow:0 4px 15px rgba(0,0,0,0.2);
    }
    .tab-content {
      display:none;
      background:white;
      border-radius:20px;
      padding:30px;
      box-shadow:0 20px 40px rgba(0,0,0,0.1);
    }
    .tab-content.active {display:block;animation:fadeIn 0.5s ease;}
    @keyframes fadeIn {
      from {opacity:0;transform:translateY(20px);}
      to {opacity:1;transform:translateY(0);}
    }
    .btn {
      background:linear-gradient(135deg,#9CAF88 0%,#6B8E5A 100%);
      color:white;
      border:none;
      padding:12px 30px;
      border-radius:25px;
      cursor:pointer;
      font-size:16px;
      font-weight:600;
      transition:all 0.3s ease;
      margin:5px;
    }
    .btn:hover {
      transform:translateY(-2px);
      box-shadow:0 5px 15px rgba(0,0,0,0.2);
    }
    .btn-secondary {background:linear-gradient(135deg,#74b9ff 0%,#0984e3 100%);}
    .btn-danger {background:linear-gradient(135deg,#fd79a8 0%,#e84393 100%);}
    .notification {
      position:fixed;
      top:20px;
      right:20px;
      background:linear-gradient(135deg,#9CAF88 0%,#6B8E5A 100%);
      color:white;
      padding:15px 25px;
      border-radius:10px;
      box-shadow:0 5px 15px rgba(0,0,0,0.3);
      display:none;
      z-index:1001;
    }
  </style>
</head>

<body>
  <div class="container">
    <div class="header">
      <h1>ðŸš€ Enhanced CRM System</h1>
      <p>Manage your contacts, deals, tasks, and growth efficiently</p>
      <button onclick="toggleDarkMode()" class="btn btn-secondary" style="margin-top:15px;">ðŸŒ™ Toggle Dark Mode</button>
    </div>

    <!-- === NAVIGATION === -->
    <div class="nav-tabs">
      <button class="nav-tab active" data-tab="dashboard" onclick="showTab(event,'dashboard')">ðŸ“Š Dashboard</button>
      <button class="nav-tab" data-tab="contacts" onclick="showTab(event,'contacts')">ðŸ‘¥ Contacts</button>
      <button class="nav-tab" data-tab="add-contact" onclick="showTab(event,'add-contact')">âž• Add Contact</button>
      <button class="nav-tab" data-tab="tasks" onclick="showTab(event,'tasks')">ðŸ“‹ Tasks</button>
      <button class="nav-tab" data-tab="deals" onclick="showTab(event,'deals')">ðŸ’° Deals</button>
      <button class="nav-tab" data-tab="calendar" onclick="showTab(event,'calendar')">ðŸ“… Calendar</button>
      <button class="nav-tab" data-tab="analytics" onclick="showTab(event,'analytics')">ðŸ“ˆ Analytics</button>
      <button class="nav-tab" data-tab="reports" onclick="showTab(event,'reports')">ðŸ“Š Reports</button>
      <button class="nav-tab" data-tab="import-export" onclick="showTab(event,'import-export')">ðŸ’¾ Data</button>
    </div>

    <!-- === DASHBOARD TAB === -->
    <div id="dashboard" class="tab-content active">
      <h2>Welcome to the CRM Dashboard</h2>
      <p>Here you can see stats and quick links.</p>
    </div>

    <!-- === CONTACTS TAB === -->
    <div id="contacts" class="tab-content">
      <h2>Contacts</h2>
      <p>Manage all your contacts here.</p>
    </div>

    <!-- === ADD CONTACT TAB === -->
    <div id="add-contact" class="tab-content">
      <h2>Add a Contact</h2>
      <form id="contact-form">
        <label for="firstName">First Name:</label>
        <input type="text" id="firstName" required />
        <button type="submit" class="btn">ðŸ’¾ Save Contact</button>
      </form>
    </div>

    <!-- === TASKS TAB === -->
    <div id="tasks" class="tab-content">
      <h2>Tasks</h2>
      <p>Add and manage tasks here.</p>
    </div>

    <!-- === DEALS TAB === -->
    <div id="deals" class="tab-content">
      <h2>Deals</h2>
      <p>Track deals and negotiations.</p>
    </div>

    <!-- === CALENDAR TAB === -->
    <div id="calendar" class="tab-content">
      <h2>Calendar</h2>
      <p>View meetings and task deadlines.</p>
    </div>

    <!-- === ANALYTICS TAB === -->
    <div id="analytics" class="tab-content">
      <h2>Analytics</h2>
      <p>Charts and performance metrics.</p>
    </div>

    <!-- === REPORTS TAB === -->
    <div id="reports" class="tab-content">
      <h2>Reports</h2>
      <p>Generate and export reports.</p>
    </div>

    <!-- === DATA TAB === -->
    <div id="import-export" class="tab-content">
      <h2>Data Import/Export</h2>
      <p>Backup and restore your data.</p>
    </div>
  </div>

  <!-- === NOTIFICATION === -->
  <div id="notification" class="notification"></div>

  <!-- === SCRIPT === -->
  <script>
    let contacts = [];

    // Load data on page ready
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', () => {
        loadData();
      });
    } else {
      loadData();
    }

    function loadData() {
      const savedContacts = JSON.parse(localStorage.getItem('crmContacts') || '[]');
      contacts = savedContacts;
      console.log('Contacts loaded:', contacts);
    }

    function saveData() {
      localStorage.setItem('crmContacts', JSON.stringify(contacts));
    }

    // Tab navigation function
    function showTab(eOrTab, maybeTab) {
      let ev = null;
      let tabName = null;

      if (typeof eOrTab === 'string') {
        tabName = eOrTab;
      } else {
        ev = eOrTab;
        tabName = maybeTab;
      }
      if (!tabName) return;

      // hide all
      document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
      document.querySelectorAll('.nav-tab').forEach(tab => tab.classList.remove('active'));

      // show requested
      const tabEl = document.getElementById(tabName);
      if (tabEl) tabEl.classList.add('active');

      // mark nav active
      if (ev && ev.currentTarget) {
        ev.currentTarget.classList.add('active');
      } else {
        const btn = document.querySelector(`.nav-tab[data-tab="${tabName}"]`);
        if (btn) btn.classList.add('active');
      }
    }

    function toggleDarkMode() {
      document.body.classList.toggle('dark-mode');
      localStorage.setItem(
        'crmDarkMode',
        document.body.classList.contains('dark-mode') ? 'enabled' : 'disabled'
      );
    }

    // Notification helper
    function showNotification(message, type = 'info') {
      const note = document.getElementById('notification');
      note.textContent = message;
      note.style.display = 'block';
      setTimeout(() => {
        note.style.display = 'none';
      }, 3000);
    }

    // Example save contact
    document.getElementById('contact-form').addEventListener('submit', function(e) {
      e.preventDefault();
      const firstName = document.getElementById('firstName').value.trim();
      if (!firstName) {
        showNotification('First name is required!', 'error');
        return;
      }
      contacts.push({ id: Date.now(), firstName });
      saveData();
      showNotification('Contact saved!');
      this.reset();
      showTab('contacts'); // switch to contacts tab
    });
  </script>
</body>
</html>
